digraph LayerCFG {
  rankdir=TB;
  compound=true;
  newrank=true;

  label="03_dag - 18 functions from 4 files";
  labelloc=t;
  fontsize=18;

  subgraph cluster_1 {
    label="EventSubscription (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f1_n381 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f1_n382 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f1_n383 [label="RETURN1 L62", shape=box, fillcolor=lightblue, style="filled"];

    f1_n381 -> f1_n383;
    f1_n383 -> f1_n382;
  }

  subgraph cluster_2 {
    label="ShadowPageGraph (ShadowPageGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f2_n384 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f2_n385 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f2_n386 [label="RETURN1 L39", shape=box, fillcolor=lightblue, style="filled"];

    f2_n384 -> f2_n386;
    f2_n386 -> f2_n385;
  }

  subgraph cluster_3 {
    label="_all_vertices (ShadowPageGraph.jl, CC=5)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f3_n387 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f3_n388 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f3_n389 [label="BB1 L157", shape=box, fillcolor=lightblue, style="filled"];
    f3_n390 [label="LOOP2 L158", shape=box, fillcolor=orange, style="filled,rounded"];
    f3_n391 [label="BB3 L159", shape=box, fillcolor=lightblue, style="filled"];
    f3_n392 [label="LOOP4 L161", shape=box, fillcolor=orange, style="filled,rounded"];
    f3_n393 [label="BB5 L162", shape=box, fillcolor=lightblue, style="filled"];
    f3_n394 [label="RETURN6 L164", shape=box, fillcolor=lightblue, style="filled"];

    f3_n387 -> f3_n389;
    f3_n389 -> f3_n390;
    f3_n390 -> f3_n391 [label="T", color="darkgreen"];
    f3_n391 -> f3_n390;
    f3_n390 -> f3_n392 [label="F", color="red"];
    f3_n391 -> f3_n392;
    f3_n392 -> f3_n393 [label="T", color="darkgreen"];
    f3_n393 -> f3_n392;
    f3_n392 -> f3_n394 [label="F", color="red"];
    f3_n393 -> f3_n394;
    f3_n394 -> f3_n388;
  }

  subgraph cluster_4 {
    label="_delta_router_module (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f4_n395 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f4_n396 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f4_n397 [label="BB1 L72", shape=box, fillcolor=lightblue, style="filled"];

    f4_n395 -> f4_n397;
    f4_n397 -> f4_n396;
  }

  subgraph cluster_5 {
    label="_dfs_has_cycle (ShadowPageGraph.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f5_n398 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f5_n399 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f5_n400 [label="BB1 L125,126,127,128", shape=box, fillcolor=lightblue, style="filled"];
    f5_n401 [label="LOOP2 L129", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n402 [label="BRANCH3 L130", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n403 [label="RETURN4 L131", shape=box, fillcolor=lightblue, style="filled"];
    f5_n404 [label="RETURN5 L134,135", shape=box, fillcolor=lightblue, style="filled"];

    f5_n398 -> f5_n400;
    f5_n400 -> f5_n401;
    f5_n401 -> f5_n402 [label="T", color="darkgreen"];
    f5_n402 -> f5_n401;
    f5_n401 -> f5_n403 [label="F", color="red"];
    f5_n402 -> f5_n403 [label="T", color="darkgreen"];
    f5_n402 -> f5_n404 [label="F", color="red"];
    f5_n404 -> f5_n399;
  }

  subgraph cluster_6 {
    label="_ensure_vertex! (ShadowPageGraph.jl, CC=2)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f6_n405 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f6_n406 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f6_n407 [label="BRANCH1 L51", shape=diamond, fillcolor=yellow, style="filled"];
    f6_n408 [label="BB2 L52", shape=box, fillcolor=lightblue, style="filled"];
    f6_n409 [label="BRANCH3 L54", shape=diamond, fillcolor=yellow, style="filled"];
    f6_n410 [label="BB4 L55", shape=box, fillcolor=lightblue, style="filled"];

    f6_n405 -> f6_n407;
    f6_n407 -> f6_n408 [label="T", color="darkgreen"];
    f6_n407 -> f6_n409 [label="F", color="red"];
    f6_n408 -> f6_n409;
    f6_n409 -> f6_n410 [label="T", color="darkgreen"];
    f6_n410 -> f6_n406;
  }

  subgraph cluster_7 {
    label="add_dependency! (ShadowPageGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f7_n411 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f7_n412 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f7_n413 [label="BB1 L67,68", shape=box, fillcolor=lightblue, style="filled"];

    f7_n411 -> f7_n413;
    f7_n413 -> f7_n412;
  }

  subgraph cluster_8 {
    label="add_edge! (DependencyGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f8_n414 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f8_n415 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f8_n416 [label="BB1 L37", shape=box, fillcolor=lightblue, style="filled"];

    f8_n414 -> f8_n416;
    f8_n416 -> f8_n415;
  }

  subgraph cluster_9 {
    label="clear_subscriptions! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f9_n417 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f9_n418 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f9_n419 [label="BB1 L141", shape=box, fillcolor=lightblue, style="filled"];

    f9_n417 -> f9_n419;
    f9_n419 -> f9_n418;
  }

  subgraph cluster_10 {
    label="dfs_cycle_detect (DependencyGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f10_n420 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f10_n421 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f10_n422 [label="BB1 L241", shape=box, fillcolor=lightblue, style="filled"];

    f10_n420 -> f10_n422;
    f10_n422 -> f10_n421;
  }

  subgraph cluster_11 {
    label="edge (GraphDSL.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f11_n423 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f11_n424 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f11_n425 [label="BB1 L12", shape=box, fillcolor=lightblue, style="filled"];

    f11_n423 -> f11_n425;
    f11_n425 -> f11_n424;
  }

  subgraph cluster_12 {
    label="emit_event! (EventSystem.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f12_n426 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f12_n427 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f12_n428 [label="BB1 L81,82", shape=box, fillcolor=lightblue, style="filled"];
    f12_n429 [label="LOOP2 L85", shape=box, fillcolor=orange, style="filled,rounded"];
    f12_n430 [label="BRANCH3 L86", shape=diamond, fillcolor=yellow, style="filled"];
    f12_n431 [label="BB4 L87", shape=box, fillcolor=lightblue, style="filled"];
    f12_n432 [label="BRANCH5 L94", shape=diamond, fillcolor=yellow, style="filled"];
    f12_n433 [label="BB6 L95", shape=box, fillcolor=lightblue, style="filled"];

    f12_n426 -> f12_n428;
    f12_n428 -> f12_n429;
    f12_n429 -> f12_n430 [label="T", color="darkgreen"];
    f12_n430 -> f12_n429;
    f12_n429 -> f12_n431 [label="F", color="red"];
    f12_n430 -> f12_n431 [label="T", color="darkgreen"];
    f12_n430 -> f12_n432 [label="F", color="red"];
    f12_n431 -> f12_n432;
    f12_n432 -> f12_n433 [label="T", color="darkgreen"];
    f12_n433 -> f12_n427;
  }

  subgraph cluster_13 {
    label="log_event! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f13_n434 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f13_n435 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f13_n436 [label="BB1 L132", shape=box, fillcolor=lightblue, style="filled"];

    f13_n434 -> f13_n436;
    f13_n436 -> f13_n435;
  }

  subgraph cluster_14 {
    label="log_event_to_page! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f14_n437 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f14_n438 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f14_n439 [label="BB1 L206,207,208,209,210,211,212,216,217,218,219", shape=box, fillcolor=lightblue, style="filled"];

    f14_n437 -> f14_n439;
    f14_n439 -> f14_n438;
  }

  subgraph cluster_15 {
    label="node (GraphDSL.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f15_n440 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f15_n441 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f15_n442 [label="BB1 L11", shape=box, fillcolor=lightblue, style="filled"];

    f15_n440 -> f15_n442;
    f15_n442 -> f15_n441;
  }

  subgraph cluster_16 {
    label="remove_dependency! (ShadowPageGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f16_n443 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f16_n444 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f16_n445 [label="BB1 L89", shape=box, fillcolor=lightblue, style="filled"];

    f16_n443 -> f16_n445;
    f16_n445 -> f16_n444;
  }

  subgraph cluster_17 {
    label="remove_edge! (DependencyGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f17_n446 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f17_n447 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f17_n448 [label="BB1 L72", shape=box, fillcolor=lightblue, style="filled"];

    f17_n446 -> f17_n448;
    f17_n448 -> f17_n447;
  }

  subgraph cluster_18 {
    label="unsubscribe! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f18_n449 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f18_n450 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f18_n451 [label="BB1 L121", shape=box, fillcolor=lightblue, style="filled"];

    f18_n449 -> f18_n451;
    f18_n451 -> f18_n450;
  }

  // Inter-function calls
  edge [style=dashed, color=blue, penwidth=2];

  f12_n427 -> f13_n434 [ltail=cluster_12, lhead=cluster_13, label="call"];
  f7_n412 -> f6_n405 [ltail=cluster_7, lhead=cluster_6, label="call"];
  f7_n412 -> f16_n443 [ltail=cluster_7, lhead=cluster_16, label="call"];
  f5_n399 -> f5_n398 [ltail=cluster_5, lhead=cluster_5, label="call"];
}
