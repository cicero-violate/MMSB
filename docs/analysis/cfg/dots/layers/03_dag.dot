digraph LayerCFG {
  rankdir=TB;
  compound=true;
  newrank=true;

  label="03_dag - 18 functions from 4 files";
  labelloc=t;
  fontsize=18;

  subgraph cluster_1 {
    label="EventSubscription (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f1_n400 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f1_n401 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f1_n402 [label="RETURN1 L62", shape=box, fillcolor=lightblue, style="filled"];

    f1_n400 -> f1_n402;
    f1_n402 -> f1_n401;
  }

  subgraph cluster_2 {
    label="ShadowPageGraph (ShadowPageGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f2_n403 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f2_n404 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f2_n405 [label="RETURN1 L39", shape=box, fillcolor=lightblue, style="filled"];

    f2_n403 -> f2_n405;
    f2_n405 -> f2_n404;
  }

  subgraph cluster_3 {
    label="_all_vertices (ShadowPageGraph.jl, CC=5)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f3_n406 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f3_n407 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f3_n408 [label="BB1 L157", shape=box, fillcolor=lightblue, style="filled"];
    f3_n409 [label="LOOP2 L158", shape=box, fillcolor=orange, style="filled,rounded"];
    f3_n410 [label="BB3 L159", shape=box, fillcolor=lightblue, style="filled"];
    f3_n411 [label="LOOP4 L161", shape=box, fillcolor=orange, style="filled,rounded"];
    f3_n412 [label="BB5 L162", shape=box, fillcolor=lightblue, style="filled"];
    f3_n413 [label="RETURN6 L164", shape=box, fillcolor=lightblue, style="filled"];

    f3_n406 -> f3_n408;
    f3_n408 -> f3_n409;
    f3_n409 -> f3_n410 [label="T", color="darkgreen"];
    f3_n410 -> f3_n409;
    f3_n409 -> f3_n411 [label="F", color="red"];
    f3_n410 -> f3_n411;
    f3_n411 -> f3_n412 [label="T", color="darkgreen"];
    f3_n412 -> f3_n411;
    f3_n411 -> f3_n413 [label="F", color="red"];
    f3_n412 -> f3_n413;
    f3_n413 -> f3_n407;
  }

  subgraph cluster_4 {
    label="_delta_router_module (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f4_n414 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f4_n415 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f4_n416 [label="BB1 L72", shape=box, fillcolor=lightblue, style="filled"];

    f4_n414 -> f4_n416;
    f4_n416 -> f4_n415;
  }

  subgraph cluster_5 {
    label="_dfs_has_cycle (ShadowPageGraph.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f5_n417 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f5_n418 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f5_n419 [label="BB1 L125,126,127,128", shape=box, fillcolor=lightblue, style="filled"];
    f5_n420 [label="LOOP2 L129", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n421 [label="BRANCH3 L130", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n422 [label="RETURN4 L131", shape=box, fillcolor=lightblue, style="filled"];
    f5_n423 [label="RETURN5 L134,135", shape=box, fillcolor=lightblue, style="filled"];

    f5_n417 -> f5_n419;
    f5_n419 -> f5_n420;
    f5_n420 -> f5_n421 [label="T", color="darkgreen"];
    f5_n421 -> f5_n420;
    f5_n420 -> f5_n422 [label="F", color="red"];
    f5_n421 -> f5_n422 [label="T", color="darkgreen"];
    f5_n421 -> f5_n423 [label="F", color="red"];
    f5_n423 -> f5_n418;
  }

  subgraph cluster_6 {
    label="_ensure_vertex! (ShadowPageGraph.jl, CC=2)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f6_n424 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f6_n425 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f6_n426 [label="BRANCH1 L51", shape=diamond, fillcolor=yellow, style="filled"];
    f6_n427 [label="BB2 L52", shape=box, fillcolor=lightblue, style="filled"];
    f6_n428 [label="BRANCH3 L54", shape=diamond, fillcolor=yellow, style="filled"];
    f6_n429 [label="BB4 L55", shape=box, fillcolor=lightblue, style="filled"];

    f6_n424 -> f6_n426;
    f6_n426 -> f6_n427 [label="T", color="darkgreen"];
    f6_n426 -> f6_n428 [label="F", color="red"];
    f6_n427 -> f6_n428;
    f6_n428 -> f6_n429 [label="T", color="darkgreen"];
    f6_n429 -> f6_n425;
  }

  subgraph cluster_7 {
    label="add_dependency! (ShadowPageGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f7_n430 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f7_n431 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f7_n432 [label="BB1 L67,68", shape=box, fillcolor=lightblue, style="filled"];

    f7_n430 -> f7_n432;
    f7_n432 -> f7_n431;
  }

  subgraph cluster_8 {
    label="add_edge! (DependencyGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f8_n433 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f8_n434 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f8_n435 [label="BB1 L37", shape=box, fillcolor=lightblue, style="filled"];

    f8_n433 -> f8_n435;
    f8_n435 -> f8_n434;
  }

  subgraph cluster_9 {
    label="clear_subscriptions! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f9_n436 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f9_n437 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f9_n438 [label="BB1 L141", shape=box, fillcolor=lightblue, style="filled"];

    f9_n436 -> f9_n438;
    f9_n438 -> f9_n437;
  }

  subgraph cluster_10 {
    label="dfs_cycle_detect (DependencyGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f10_n439 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f10_n440 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f10_n441 [label="BB1 L241", shape=box, fillcolor=lightblue, style="filled"];

    f10_n439 -> f10_n441;
    f10_n441 -> f10_n440;
  }

  subgraph cluster_11 {
    label="edge (GraphDSL.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f11_n442 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f11_n443 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f11_n444 [label="BB1 L12", shape=box, fillcolor=lightblue, style="filled"];

    f11_n442 -> f11_n444;
    f11_n444 -> f11_n443;
  }

  subgraph cluster_12 {
    label="emit_event! (EventSystem.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f12_n445 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f12_n446 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f12_n447 [label="BB1 L81,82", shape=box, fillcolor=lightblue, style="filled"];
    f12_n448 [label="LOOP2 L85", shape=box, fillcolor=orange, style="filled,rounded"];
    f12_n449 [label="BRANCH3 L86", shape=diamond, fillcolor=yellow, style="filled"];
    f12_n450 [label="BB4 L87", shape=box, fillcolor=lightblue, style="filled"];
    f12_n451 [label="BRANCH5 L94", shape=diamond, fillcolor=yellow, style="filled"];
    f12_n452 [label="BB6 L95", shape=box, fillcolor=lightblue, style="filled"];

    f12_n445 -> f12_n447;
    f12_n447 -> f12_n448;
    f12_n448 -> f12_n449 [label="T", color="darkgreen"];
    f12_n449 -> f12_n448;
    f12_n448 -> f12_n450 [label="F", color="red"];
    f12_n449 -> f12_n450 [label="T", color="darkgreen"];
    f12_n449 -> f12_n451 [label="F", color="red"];
    f12_n450 -> f12_n451;
    f12_n451 -> f12_n452 [label="T", color="darkgreen"];
    f12_n452 -> f12_n446;
  }

  subgraph cluster_13 {
    label="log_event! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f13_n453 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f13_n454 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f13_n455 [label="BB1 L132", shape=box, fillcolor=lightblue, style="filled"];

    f13_n453 -> f13_n455;
    f13_n455 -> f13_n454;
  }

  subgraph cluster_14 {
    label="log_event_to_page! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f14_n456 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f14_n457 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f14_n458 [label="BB1 L206,207,208,209,210,211,212,216,217,218,219", shape=box, fillcolor=lightblue, style="filled"];

    f14_n456 -> f14_n458;
    f14_n458 -> f14_n457;
  }

  subgraph cluster_15 {
    label="node (GraphDSL.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f15_n459 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f15_n460 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f15_n461 [label="BB1 L11", shape=box, fillcolor=lightblue, style="filled"];

    f15_n459 -> f15_n461;
    f15_n461 -> f15_n460;
  }

  subgraph cluster_16 {
    label="remove_dependency! (ShadowPageGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f16_n462 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f16_n463 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f16_n464 [label="BB1 L89", shape=box, fillcolor=lightblue, style="filled"];

    f16_n462 -> f16_n464;
    f16_n464 -> f16_n463;
  }

  subgraph cluster_17 {
    label="remove_edge! (DependencyGraph.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f17_n465 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f17_n466 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f17_n467 [label="BB1 L72", shape=box, fillcolor=lightblue, style="filled"];

    f17_n465 -> f17_n467;
    f17_n467 -> f17_n466;
  }

  subgraph cluster_18 {
    label="unsubscribe! (EventSystem.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f18_n468 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f18_n469 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f18_n470 [label="BB1 L121", shape=box, fillcolor=lightblue, style="filled"];

    f18_n468 -> f18_n470;
    f18_n470 -> f18_n469;
  }

  // Inter-function calls
  edge [style=dashed, color=blue, penwidth=2];

  f12_n446 -> f13_n453 [ltail=cluster_12, lhead=cluster_13, label="call"];
  f7_n431 -> f6_n424 [ltail=cluster_7, lhead=cluster_6, label="call"];
  f7_n431 -> f16_n462 [ltail=cluster_7, lhead=cluster_16, label="call"];
  f5_n418 -> f5_n417 [ltail=cluster_5, lhead=cluster_5, label="call"];
}
