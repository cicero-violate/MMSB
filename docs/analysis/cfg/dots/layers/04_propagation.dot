digraph LayerCFG {
  rankdir=TB;
  compound=true;
  newrank=true;

  label="04_propagation - 23 functions from 3 files";
  labelloc=t;
  fontsize=18;

  subgraph cluster_1 {
    label="_aggregate_children (PropagationEngine.jl, CC=5)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f1_n452 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f1_n453 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f1_n454 [label="BB1 L216", shape=box, fillcolor=lightblue, style="filled"];
    f1_n455 [label="LOOP2 L217", shape=box, fillcolor=orange, style="filled,rounded"];
    f1_n456 [label="LOOP3 L218", shape=box, fillcolor=orange, style="filled,rounded"];
    f1_n457 [label="BB4 L219,222", shape=box, fillcolor=lightblue, style="filled"];
    f1_n458 [label="RETURN5 L225", shape=box, fillcolor=lightblue, style="filled"];

    f1_n452 -> f1_n454;
    f1_n454 -> f1_n455;
    f1_n455 -> f1_n456 [label="T", color="darkgreen"];
    f1_n456 -> f1_n455;
    f1_n455 -> f1_n457 [label="F", color="red"];
    f1_n456 -> f1_n457 [label="T", color="darkgreen"];
    f1_n457 -> f1_n456;
    f1_n456 -> f1_n458 [label="F", color="red"];
    f1_n457 -> f1_n458;
    f1_n458 -> f1_n453;
  }

  subgraph cluster_2 {
    label="_apply_edges! (PropagationEngine.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f2_n459 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f2_n460 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f2_n461 [label="BRANCH1 L238", shape=diamond, fillcolor=yellow, style="filled"];
    f2_n462 [label="BB2 L239,240", shape=box, fillcolor=lightblue, style="filled"];
    f2_n463 [label="LOOP3 L242", shape=box, fillcolor=orange, style="filled,rounded"];
    f2_n464 [label="BB4 L243,244,245", shape=box, fillcolor=lightblue, style="filled"];

    f2_n459 -> f2_n461;
    f2_n461 -> f2_n462 [label="T", color="darkgreen"];
    f2_n461 -> f2_n463 [label="F", color="red"];
    f2_n462 -> f2_n463;
    f2_n463 -> f2_n464 [label="T", color="darkgreen"];
    f2_n464 -> f2_n463;
    f2_n464 -> f2_n460;
  }

  subgraph cluster_3 {
    label="_execute_command_buffer! (PropagationEngine.jl, CC=2)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f3_n465 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f3_n466 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f3_n467 [label="LOOP1 L231", shape=box, fillcolor=orange, style="filled,rounded"];
    f3_n468 [label="BB2 L232", shape=box, fillcolor=lightblue, style="filled"];

    f3_n465 -> f3_n467;
    f3_n467 -> f3_n468 [label="T", color="darkgreen"];
    f3_n468 -> f3_n467;
    f3_n468 -> f3_n466;
  }

  subgraph cluster_4 {
    label="_handle_data_dependency! (PropagationEngine.jl, CC=2)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f4_n469 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f4_n470 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f4_n471 [label="BB1 L251", shape=box, fillcolor=lightblue, style="filled"];
    f4_n472 [label="BRANCH2 L252", shape=diamond, fillcolor=yellow, style="filled"];
    f4_n473 [label="BB3 L253", shape=box, fillcolor=lightblue, style="filled"];
    f4_n474 [label="BB4 L255", shape=box, fillcolor=lightblue, style="filled"];

    f4_n469 -> f4_n471;
    f4_n471 -> f4_n472;
    f4_n472 -> f4_n473 [label="T", color="darkgreen"];
    f4_n472 -> f4_n474 [label="F", color="red"];
    f4_n473 -> f4_n474;
    f4_n474 -> f4_n470;
  }

  subgraph cluster_5 {
    label="batch_route_deltas! (PropagationEngine.jl, CC=9)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f5_n475 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f5_n476 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f5_n477 [label="BRANCH1 L114", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n478 [label="RETURN2 L115", shape=box, fillcolor=lightblue, style="filled"];
    f5_n479 [label="BB3 L119", shape=box, fillcolor=lightblue, style="filled"];
    f5_n480 [label="LOOP4 L120", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n481 [label="BB5 L121", shape=box, fillcolor=lightblue, style="filled"];
    f5_n482 [label="BRANCH6 L122", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n483 [label="BB7 L123", shape=box, fillcolor=lightblue, style="filled"];
    f5_n484 [label="BB8 L125", shape=box, fillcolor=lightblue, style="filled"];
    f5_n485 [label="LOOP9 L129", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n486 [label="LOOP10 L130", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n487 [label="BB11 L131", shape=box, fillcolor=lightblue, style="filled"];
    f5_n488 [label="BRANCH12 L136", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n489 [label="BB13 L137", shape=box, fillcolor=lightblue, style="filled"];
    f5_n490 [label="BRANCH14 L138", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n491 [label="BB15 L140", shape=box, fillcolor=lightblue, style="filled"];

    f5_n475 -> f5_n477;
    f5_n477 -> f5_n478 [label="T", color="darkgreen"];
    f5_n477 -> f5_n479 [label="F", color="red"];
    f5_n479 -> f5_n480;
    f5_n480 -> f5_n481 [label="T", color="darkgreen"];
    f5_n481 -> f5_n480;
    f5_n480 -> f5_n482 [label="F", color="red"];
    f5_n481 -> f5_n482;
    f5_n482 -> f5_n483 [label="T", color="darkgreen"];
    f5_n482 -> f5_n484 [label="F", color="red"];
    f5_n483 -> f5_n484;
    f5_n484 -> f5_n485;
    f5_n485 -> f5_n486 [label="T", color="darkgreen"];
    f5_n486 -> f5_n485;
    f5_n485 -> f5_n487 [label="F", color="red"];
    f5_n486 -> f5_n487 [label="T", color="darkgreen"];
    f5_n487 -> f5_n486;
    f5_n486 -> f5_n488 [label="F", color="red"];
    f5_n487 -> f5_n488;
    f5_n488 -> f5_n489 [label="T", color="darkgreen"];
    f5_n488 -> f5_n490 [label="F", color="red"];
    f5_n489 -> f5_n490;
    f5_n490 -> f5_n491 [label="T", color="darkgreen"];
    f5_n491 -> f5_n476;
  }

  subgraph cluster_6 {
    label="begin_transaction (TransactionIsolation.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f6_n492 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f6_n493 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f6_n494 [label="BB1 L13,13,13", shape=box, fillcolor=lightblue, style="filled"];

    f6_n492 -> f6_n494;
    f6_n494 -> f6_n493;
  }

  subgraph cluster_7 {
    label="commit_transaction (TransactionIsolation.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f7_n495 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f7_n496 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f7_n497 [label="BB1 L14,14", shape=box, fillcolor=lightblue, style="filled"];

    f7_n495 -> f7_n497;
    f7_n497 -> f7_n496;
  }

  subgraph cluster_8 {
    label="disable_graph_capture (PropagationEngine.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f8_n498 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f8_n499 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f8_n500 [label="BRANCH1 L72", shape=diamond, fillcolor=yellow, style="filled"];
    f8_n501 [label="BB2 L73,74", shape=box, fillcolor=lightblue, style="filled"];
    f8_n502 [label="BRANCH3 L76", shape=diamond, fillcolor=yellow, style="filled"];
    f8_n503 [label="BB4 L77", shape=box, fillcolor=lightblue, style="filled"];
    f8_n504 [label="BRANCH5 L80", shape=diamond, fillcolor=yellow, style="filled"];
    f8_n505 [label="BB6 L81", shape=box, fillcolor=lightblue, style="filled"];

    f8_n498 -> f8_n500;
    f8_n500 -> f8_n501 [label="T", color="darkgreen"];
    f8_n500 -> f8_n502 [label="F", color="red"];
    f8_n501 -> f8_n502;
    f8_n502 -> f8_n503 [label="T", color="darkgreen"];
    f8_n502 -> f8_n504 [label="F", color="red"];
    f8_n503 -> f8_n504;
    f8_n504 -> f8_n505 [label="T", color="darkgreen"];
    f8_n505 -> f8_n499;
  }

  subgraph cluster_9 {
    label="enable_graph_capture (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f9_n506 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f9_n507 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f9_n508 [label="BB1 L60,63", shape=box, fillcolor=lightblue, style="filled"];

    f9_n506 -> f9_n508;
    f9_n508 -> f9_n507;
  }

  subgraph cluster_10 {
    label="execute_propagation! (PropagationEngine.jl, CC=2)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f10_n509 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f10_n510 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f10_n511 [label="BB1 L299", shape=box, fillcolor=lightblue, style="filled"];
    f10_n512 [label="LOOP2 L300", shape=box, fillcolor=orange, style="filled,rounded"];
    f10_n513 [label="BB3 L301,302,303", shape=box, fillcolor=lightblue, style="filled"];

    f10_n509 -> f10_n511;
    f10_n511 -> f10_n512;
    f10_n512 -> f10_n513 [label="T", color="darkgreen"];
    f10_n513 -> f10_n512;
    f10_n513 -> f10_n510;
  }

  subgraph cluster_11 {
    label="invalidate_compilation! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f11_n514 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f11_n515 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f11_n516 [label="BB1 L358", shape=box, fillcolor=lightblue, style="filled"];
    f11_n517 [label="BRANCH2 L359", shape=diamond, fillcolor=yellow, style="filled"];
    f11_n518 [label="BB3 L360,361", shape=box, fillcolor=lightblue, style="filled"];

    f11_n514 -> f11_n516;
    f11_n516 -> f11_n517;
    f11_n517 -> f11_n518 [label="T", color="darkgreen"];
    f11_n518 -> f11_n515;
  }

  subgraph cluster_12 {
    label="mark_page_stale! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f12_n519 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f12_n520 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f12_n521 [label="BB1 L337", shape=box, fillcolor=lightblue, style="filled"];
    f12_n522 [label="BRANCH2 L338", shape=diamond, fillcolor=yellow, style="filled"];
    f12_n523 [label="BB3 L339,340", shape=box, fillcolor=lightblue, style="filled"];

    f12_n519 -> f12_n521;
    f12_n521 -> f12_n522;
    f12_n522 -> f12_n523 [label="T", color="darkgreen"];
    f12_n523 -> f12_n520;
  }

  subgraph cluster_13 {
    label="propagate_change! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f13_n524 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f13_n525 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f13_n526 [label="BB1 L207,208,209,210,211,212", shape=box, fillcolor=lightblue, style="filled"];

    f13_n524 -> f13_n526;
    f13_n526 -> f13_n525;
  }

  subgraph cluster_14 {
    label="queue_recomputation! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f14_n527 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f14_n528 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f14_n529 [label="BB1 L188", shape=box, fillcolor=lightblue, style="filled"];
    f14_n530 [label="BRANCH2 L189", shape=diamond, fillcolor=yellow, style="filled"];
    f14_n531 [label="BB3 L190,191", shape=box, fillcolor=lightblue, style="filled"];

    f14_n527 -> f14_n529;
    f14_n529 -> f14_n530;
    f14_n530 -> f14_n531 [label="T", color="darkgreen"];
    f14_n531 -> f14_n528;
  }

  subgraph cluster_15 {
    label="recompute_page! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f15_n532 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f15_n533 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f15_n534 [label="BB1 L313,314,315,316,317,318,319,320,321,324,328,329,330", shape=box, fillcolor=lightblue, style="filled"];

    f15_n532 -> f15_n534;
    f15_n534 -> f15_n533;
  }

  subgraph cluster_16 {
    label="register_passthrough_recompute! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f16_n535 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f16_n536 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f16_n537 [label="BB1 L175", shape=box, fillcolor=lightblue, style="filled"];

    f16_n535 -> f16_n537;
    f16_n537 -> f16_n536;
  }

  subgraph cluster_17 {
    label="register_recompute_fn! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f17_n538 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f17_n539 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f17_n540 [label="RETURN1 L161,162,163,164", shape=box, fillcolor=lightblue, style="filled"];

    f17_n538 -> f17_n540;
    f17_n540 -> f17_n539;
  }

  subgraph cluster_18 {
    label="replay_cuda_graph (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f18_n541 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f18_n542 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f18_n543 [label="BRANCH1 L93", shape=diamond, fillcolor=yellow, style="filled"];
    f18_n544 [label="RETURN2 L94", shape=box, fillcolor=lightblue, style="filled"];
    f18_n545 [label="BB3 L97", shape=box, fillcolor=lightblue, style="filled"];
    f18_n546 [label="BRANCH4 L98", shape=diamond, fillcolor=yellow, style="filled"];
    f18_n547 [label="RETURN5 L99", shape=box, fillcolor=lightblue, style="filled"];
    f18_n548 [label="RETURN6 L102,105", shape=box, fillcolor=lightblue, style="filled"];

    f18_n541 -> f18_n543;
    f18_n543 -> f18_n544 [label="T", color="darkgreen"];
    f18_n543 -> f18_n545 [label="F", color="red"];
    f18_n545 -> f18_n546;
    f18_n546 -> f18_n547 [label="T", color="darkgreen"];
    f18_n546 -> f18_n548 [label="F", color="red"];
    f18_n548 -> f18_n542;
  }

  subgraph cluster_19 {
    label="rollback_transaction (TransactionIsolation.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f19_n549 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f19_n550 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f19_n551 [label="BB1 L15,15", shape=box, fillcolor=lightblue, style="filled"];

    f19_n549 -> f19_n551;
    f19_n551 -> f19_n550;
  }

  subgraph cluster_20 {
    label="schedule! (PropagationScheduler.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f20_n552 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f20_n553 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f20_n554 [label="LOOP1 L11", shape=box, fillcolor=orange, style="filled,rounded"];
    f20_n555 [label="BB2 L12", shape=box, fillcolor=lightblue, style="filled"];
    f20_n556 [label="BB3 L14", shape=box, fillcolor=lightblue, style="filled"];

    f20_n552 -> f20_n554;
    f20_n554 -> f20_n555 [label="T", color="darkgreen"];
    f20_n555 -> f20_n554;
    f20_n554 -> f20_n556 [label="F", color="red"];
    f20_n555 -> f20_n556;
    f20_n556 -> f20_n553;
  }

  subgraph cluster_21 {
    label="schedule_gpu_sync! (PropagationEngine.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f21_n557 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f21_n558 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f21_n559 [label="BB1 L348,349,350,351", shape=box, fillcolor=lightblue, style="filled"];

    f21_n557 -> f21_n559;
    f21_n559 -> f21_n558;
  }

  subgraph cluster_22 {
    label="schedule_propagation! (PropagationEngine.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f22_n560 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f22_n561 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f22_n562 [label="BB1 L283", shape=box, fillcolor=lightblue, style="filled"];
    f22_n563 [label="LOOP2 L284", shape=box, fillcolor=orange, style="filled,rounded"];
    f22_n564 [label="BB3 L285", shape=box, fillcolor=lightblue, style="filled"];
    f22_n565 [label="BB4 L287", shape=box, fillcolor=lightblue, style="filled"];
    f22_n566 [label="LOOP5 L288", shape=box, fillcolor=orange, style="filled,rounded"];
    f22_n567 [label="BB6 L289", shape=box, fillcolor=lightblue, style="filled"];

    f22_n560 -> f22_n562;
    f22_n562 -> f22_n563;
    f22_n563 -> f22_n564 [label="T", color="darkgreen"];
    f22_n564 -> f22_n563;
    f22_n563 -> f22_n565 [label="F", color="red"];
    f22_n564 -> f22_n565;
    f22_n565 -> f22_n566;
    f22_n566 -> f22_n567 [label="T", color="darkgreen"];
    f22_n567 -> f22_n566;
    f22_n567 -> f22_n561;
  }

  subgraph cluster_23 {
    label="with_transaction (TransactionIsolation.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f23_n568 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f23_n569 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f23_n570 [label="BB1 L16,16", shape=box, fillcolor=lightblue, style="filled"];

    f23_n568 -> f23_n570;
    f23_n570 -> f23_n569;
  }

  // Inter-function calls
  edge [style=dashed, color=blue, penwidth=2];

  f16_n536 -> f17_n538 [ltail=cluster_16, lhead=cluster_17, label="call"];
  f13_n525 -> f13_n524 [ltail=cluster_13, lhead=cluster_13, label="call"];
  f13_n525 -> f3_n465 [ltail=cluster_13, lhead=cluster_3, label="call"];
  f3_n466 -> f2_n459 [ltail=cluster_3, lhead=cluster_2, label="call"];
  f2_n460 -> f4_n469 [ltail=cluster_2, lhead=cluster_4, label="call"];
  f2_n460 -> f12_n519 [ltail=cluster_2, lhead=cluster_12, label="call"];
  f2_n460 -> f21_n557 [ltail=cluster_2, lhead=cluster_21, label="call"];
  f2_n460 -> f11_n514 [ltail=cluster_2, lhead=cluster_11, label="call"];
  f4_n470 -> f15_n532 [ltail=cluster_4, lhead=cluster_15, label="call"];
  f4_n470 -> f14_n527 [ltail=cluster_4, lhead=cluster_14, label="call"];
  f22_n561 -> f14_n527 [ltail=cluster_22, lhead=cluster_14, label="call"];
  f10_n510 -> f15_n532 [ltail=cluster_10, lhead=cluster_15, label="call"];
  f23_n569 -> f7_n495 [ltail=cluster_23, lhead=cluster_7, label="call"];
  f23_n569 -> f19_n549 [ltail=cluster_23, lhead=cluster_19, label="call"];
}
