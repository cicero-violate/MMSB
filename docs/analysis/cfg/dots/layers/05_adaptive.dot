digraph LayerCFG {
  rankdir=TB;
  compound=true;
  newrank=true;

  label="05_adaptive - 11 functions from 4 files";
  labelloc=t;
  fontsize=18;

  subgraph cluster_1 {
    label="LayoutState (AdaptiveLayout.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f1_n605 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f1_n606 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f1_n607 [label="BB1 L32", shape=box, fillcolor=lightblue, style="filled"];

    f1_n605 -> f1_n607;
    f1_n607 -> f1_n606;
  }

  subgraph cluster_2 {
    label="analyze_locality (LocalityAnalysis.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f2_n608 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f2_n609 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f2_n610 [label="BB1 L41,42,45,46", shape=box, fillcolor=lightblue, style="filled"];
    f2_n611 [label="LOOP2 L48", shape=box, fillcolor=orange, style="filled,rounded"];
    f2_n612 [label="BRANCH3 L49", shape=diamond, fillcolor=yellow, style="filled"];
    f2_n613 [label="BB4 L50", shape=box, fillcolor=lightblue, style="filled"];
    f2_n614 [label="BB5 L52", shape=box, fillcolor=lightblue, style="filled"];
    f2_n615 [label="RETURN6 L55,58,59,63,66,67,68,71", shape=box, fillcolor=lightblue, style="filled"];

    f2_n608 -> f2_n610;
    f2_n610 -> f2_n611;
    f2_n611 -> f2_n612 [label="T", color="darkgreen"];
    f2_n612 -> f2_n611;
    f2_n611 -> f2_n613 [label="F", color="red"];
    f2_n612 -> f2_n613 [label="T", color="darkgreen"];
    f2_n612 -> f2_n614 [label="F", color="red"];
    f2_n613 -> f2_n614;
    f2_n614 -> f2_n615;
    f2_n615 -> f2_n609;
  }

  subgraph cluster_3 {
    label="can_reorder (GraphRewriting.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f3_n616 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f3_n617 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f3_n618 [label="RETURN1 L75,76,78", shape=box, fillcolor=lightblue, style="filled"];

    f3_n616 -> f3_n618;
    f3_n618 -> f3_n617;
  }

  subgraph cluster_4 {
    label="compute_edge_cost (GraphRewriting.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f4_n619 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f4_n620 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f4_n621 [label="RETURN1 L87", shape=box, fillcolor=lightblue, style="filled"];

    f4_n619 -> f4_n621;
    f4_n621 -> f4_n620;
  }

  subgraph cluster_5 {
    label="compute_entropy (EntropyReduction.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f5_n622 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f5_n623 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f5_n624 [label="BB1 L22,24,25,27", shape=box, fillcolor=lightblue, style="filled"];
    f5_n625 [label="LOOP2 L28", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n626 [label="BRANCH3 L29", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n627 [label="BB4 L30,31", shape=box, fillcolor=lightblue, style="filled"];
    f5_n628 [label="RETURN5 L35", shape=box, fillcolor=lightblue, style="filled"];

    f5_n622 -> f5_n624;
    f5_n624 -> f5_n625;
    f5_n625 -> f5_n626 [label="T", color="darkgreen"];
    f5_n626 -> f5_n625;
    f5_n625 -> f5_n627 [label="F", color="red"];
    f5_n626 -> f5_n627 [label="T", color="darkgreen"];
    f5_n626 -> f5_n628 [label="F", color="red"];
    f5_n627 -> f5_n628;
    f5_n628 -> f5_n623;
  }

  subgraph cluster_6 {
    label="compute_locality_score (AdaptiveLayout.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f6_n629 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f6_n630 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f6_n631 [label="BB1 L79", shape=box, fillcolor=lightblue, style="filled"];
    f6_n632 [label="LOOP2 L80", shape=box, fillcolor=orange, style="filled,rounded"];
    f6_n633 [label="BB3 L81,82", shape=box, fillcolor=lightblue, style="filled"];
    f6_n634 [label="BRANCH4 L84", shape=diamond, fillcolor=yellow, style="filled"];
    f6_n635 [label="BB5 L85,86", shape=box, fillcolor=lightblue, style="filled"];
    f6_n636 [label="RETURN6 L89", shape=box, fillcolor=lightblue, style="filled"];

    f6_n629 -> f6_n631;
    f6_n631 -> f6_n632;
    f6_n632 -> f6_n633 [label="T", color="darkgreen"];
    f6_n633 -> f6_n632;
    f6_n632 -> f6_n634 [label="F", color="red"];
    f6_n633 -> f6_n634;
    f6_n634 -> f6_n635 [label="T", color="darkgreen"];
    f6_n634 -> f6_n636 [label="F", color="red"];
    f6_n635 -> f6_n636;
    f6_n636 -> f6_n630;
  }

  subgraph cluster_7 {
    label="compute_reuse_distance (LocalityAnalysis.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f7_n637 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f7_n638 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f7_n639 [label="LOOP1 L80", shape=box, fillcolor=orange, style="filled,rounded"];
    f7_n640 [label="BRANCH2 L81", shape=diamond, fillcolor=yellow, style="filled"];
    f7_n641 [label="RETURN3 L82", shape=box, fillcolor=lightblue, style="filled"];
    f7_n642 [label="RETURN4 L85", shape=box, fillcolor=lightblue, style="filled"];

    f7_n637 -> f7_n639;
    f7_n639 -> f7_n640 [label="T", color="darkgreen"];
    f7_n640 -> f7_n639;
    f7_n639 -> f7_n641 [label="F", color="red"];
    f7_n640 -> f7_n641 [label="T", color="darkgreen"];
    f7_n640 -> f7_n642 [label="F", color="red"];
    f7_n642 -> f7_n638;
  }

  subgraph cluster_8 {
    label="entropy_gradient (EntropyReduction.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f8_n643 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f8_n644 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f8_n645 [label="BB1 L66,67,69", shape=box, fillcolor=lightblue, style="filled"];
    f8_n646 [label="LOOP2 L70", shape=box, fillcolor=orange, style="filled,rounded"];
    f8_n647 [label="BRANCH3 L71", shape=diamond, fillcolor=yellow, style="filled"];
    f8_n648 [label="BB4 L72,73", shape=box, fillcolor=lightblue, style="filled"];
    f8_n649 [label="RETURN5 L77", shape=box, fillcolor=lightblue, style="filled"];

    f8_n643 -> f8_n645;
    f8_n645 -> f8_n646;
    f8_n646 -> f8_n647 [label="T", color="darkgreen"];
    f8_n647 -> f8_n646;
    f8_n646 -> f8_n648 [label="F", color="red"];
    f8_n647 -> f8_n648 [label="T", color="darkgreen"];
    f8_n647 -> f8_n649 [label="F", color="red"];
    f8_n648 -> f8_n649;
    f8_n649 -> f8_n644;
  }

  subgraph cluster_9 {
    label="optimize_layout! (AdaptiveLayout.jl, CC=5)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f9_n650 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f9_n651 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f9_n652 [label="BB1 L42,45,46,49", shape=box, fillcolor=lightblue, style="filled"];
    f9_n653 [label="LOOP2 L50", shape=box, fillcolor=orange, style="filled,rounded"];
    f9_n654 [label="BB3 L51,52", shape=box, fillcolor=lightblue, style="filled"];
    f9_n655 [label="BB4 L55", shape=box, fillcolor=lightblue, style="filled"];
    f9_n656 [label="LOOP5 L58", shape=box, fillcolor=orange, style="filled,rounded"];
    f9_n657 [label="BB6 L59", shape=box, fillcolor=lightblue, style="filled"];
    f9_n658 [label="BB7 L62,63,64", shape=box, fillcolor=lightblue, style="filled"];
    f9_n659 [label="BRANCH8 L66", shape=diamond, fillcolor=yellow, style="filled"];
    f9_n660 [label="RETURN9 L67", shape=box, fillcolor=lightblue, style="filled"];
    f9_n661 [label="RETURN10 L70", shape=box, fillcolor=lightblue, style="filled"];

    f9_n650 -> f9_n652;
    f9_n652 -> f9_n653;
    f9_n653 -> f9_n654 [label="T", color="darkgreen"];
    f9_n654 -> f9_n653;
    f9_n653 -> f9_n655 [label="F", color="red"];
    f9_n654 -> f9_n655;
    f9_n655 -> f9_n656;
    f9_n656 -> f9_n657 [label="T", color="darkgreen"];
    f9_n657 -> f9_n656;
    f9_n656 -> f9_n658 [label="F", color="red"];
    f9_n657 -> f9_n658;
    f9_n658 -> f9_n659;
    f9_n659 -> f9_n660 [label="T", color="darkgreen"];
    f9_n659 -> f9_n661 [label="F", color="red"];
    f9_n661 -> f9_n651;
  }

  subgraph cluster_10 {
    label="reduce_entropy! (EntropyReduction.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f10_n662 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f10_n663 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f10_n664 [label="BB1 L47,50", shape=box, fillcolor=lightblue, style="filled"];
    f10_n665 [label="LOOP2 L53", shape=box, fillcolor=orange, style="filled,rounded"];
    f10_n666 [label="BB3 L54", shape=box, fillcolor=lightblue, style="filled"];
    f10_n667 [label="RETURN4 L57", shape=box, fillcolor=lightblue, style="filled"];

    f10_n662 -> f10_n664;
    f10_n664 -> f10_n665;
    f10_n665 -> f10_n666 [label="T", color="darkgreen"];
    f10_n666 -> f10_n665;
    f10_n665 -> f10_n667 [label="F", color="red"];
    f10_n666 -> f10_n667;
    f10_n667 -> f10_n663;
  }

  subgraph cluster_11 {
    label="rewrite_dag! (GraphRewriting.jl, CC=7)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f11_n668 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f11_n669 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f11_n670 [label="BB1 L36,39", shape=box, fillcolor=lightblue, style="filled"];
    f11_n671 [label="LOOP2 L41", shape=box, fillcolor=orange, style="filled,rounded"];
    f11_n672 [label="BB3 L42", shape=box, fillcolor=lightblue, style="filled"];
    f11_n673 [label="LOOP4 L43", shape=box, fillcolor=orange, style="filled,rounded"];
    f11_n674 [label="BB5 L44", shape=box, fillcolor=lightblue, style="filled"];
    f11_n675 [label="BRANCH6 L47", shape=diamond, fillcolor=yellow, style="filled"];
    f11_n676 [label="BB7 L48,52", shape=box, fillcolor=lightblue, style="filled"];
    f11_n677 [label="BRANCH8 L54", shape=diamond, fillcolor=yellow, style="filled"];
    f11_n678 [label="BB9 L55", shape=box, fillcolor=lightblue, style="filled"];
    f11_n679 [label="RETURN10 L65", shape=box, fillcolor=lightblue, style="filled"];

    f11_n668 -> f11_n670;
    f11_n670 -> f11_n671;
    f11_n671 -> f11_n672 [label="T", color="darkgreen"];
    f11_n672 -> f11_n671;
    f11_n671 -> f11_n673 [label="F", color="red"];
    f11_n672 -> f11_n673;
    f11_n673 -> f11_n674 [label="T", color="darkgreen"];
    f11_n674 -> f11_n673;
    f11_n673 -> f11_n675 [label="F", color="red"];
    f11_n674 -> f11_n675;
    f11_n675 -> f11_n676 [label="T", color="darkgreen"];
    f11_n675 -> f11_n677 [label="F", color="red"];
    f11_n676 -> f11_n677;
    f11_n677 -> f11_n678 [label="T", color="darkgreen"];
    f11_n677 -> f11_n679 [label="F", color="red"];
    f11_n678 -> f11_n679;
    f11_n679 -> f11_n669;
  }

  // Inter-function calls
  edge [style=dashed, color=blue, penwidth=2];

  f1_n606 -> f1_n605 [ltail=cluster_1, lhead=cluster_1, label="call"];
  f10_n663 -> f5_n622 [ltail=cluster_10, lhead=cluster_5, label="call"];
  f11_n669 -> f3_n616 [ltail=cluster_11, lhead=cluster_3, label="call"];
}
