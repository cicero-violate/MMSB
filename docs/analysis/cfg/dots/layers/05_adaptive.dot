digraph LayerCFG {
  rankdir=TB;
  compound=true;
  newrank=true;

  label="05_adaptive - 11 functions from 4 files";
  labelloc=t;
  fontsize=18;

  subgraph cluster_1 {
    label="LayoutState (AdaptiveLayout.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f1_n579 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f1_n580 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f1_n581 [label="BB1 L32", shape=box, fillcolor=lightblue, style="filled"];

    f1_n579 -> f1_n581;
    f1_n581 -> f1_n580;
  }

  subgraph cluster_2 {
    label="analyze_locality (LocalityAnalysis.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f2_n582 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f2_n583 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f2_n584 [label="BB1 L41,42,45,46", shape=box, fillcolor=lightblue, style="filled"];
    f2_n585 [label="LOOP2 L48", shape=box, fillcolor=orange, style="filled,rounded"];
    f2_n586 [label="BRANCH3 L49", shape=diamond, fillcolor=yellow, style="filled"];
    f2_n587 [label="BB4 L50", shape=box, fillcolor=lightblue, style="filled"];
    f2_n588 [label="BB5 L52", shape=box, fillcolor=lightblue, style="filled"];
    f2_n589 [label="RETURN6 L55,58,59,63,66,67,68,71", shape=box, fillcolor=lightblue, style="filled"];

    f2_n582 -> f2_n584;
    f2_n584 -> f2_n585;
    f2_n585 -> f2_n586 [label="T", color="darkgreen"];
    f2_n586 -> f2_n585;
    f2_n585 -> f2_n587 [label="F", color="red"];
    f2_n586 -> f2_n587 [label="T", color="darkgreen"];
    f2_n586 -> f2_n588 [label="F", color="red"];
    f2_n587 -> f2_n588;
    f2_n588 -> f2_n589;
    f2_n589 -> f2_n583;
  }

  subgraph cluster_3 {
    label="can_reorder (GraphRewriting.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f3_n590 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f3_n591 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f3_n592 [label="RETURN1 L75,76,78", shape=box, fillcolor=lightblue, style="filled"];

    f3_n590 -> f3_n592;
    f3_n592 -> f3_n591;
  }

  subgraph cluster_4 {
    label="compute_edge_cost (GraphRewriting.jl, CC=1)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f4_n593 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f4_n594 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f4_n595 [label="RETURN1 L87", shape=box, fillcolor=lightblue, style="filled"];

    f4_n593 -> f4_n595;
    f4_n595 -> f4_n594;
  }

  subgraph cluster_5 {
    label="compute_entropy (EntropyReduction.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f5_n596 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f5_n597 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f5_n598 [label="BB1 L22,24,25,27", shape=box, fillcolor=lightblue, style="filled"];
    f5_n599 [label="LOOP2 L28", shape=box, fillcolor=orange, style="filled,rounded"];
    f5_n600 [label="BRANCH3 L29", shape=diamond, fillcolor=yellow, style="filled"];
    f5_n601 [label="BB4 L30,31", shape=box, fillcolor=lightblue, style="filled"];
    f5_n602 [label="RETURN5 L35", shape=box, fillcolor=lightblue, style="filled"];

    f5_n596 -> f5_n598;
    f5_n598 -> f5_n599;
    f5_n599 -> f5_n600 [label="T", color="darkgreen"];
    f5_n600 -> f5_n599;
    f5_n599 -> f5_n601 [label="F", color="red"];
    f5_n600 -> f5_n601 [label="T", color="darkgreen"];
    f5_n600 -> f5_n602 [label="F", color="red"];
    f5_n601 -> f5_n602;
    f5_n602 -> f5_n597;
  }

  subgraph cluster_6 {
    label="compute_locality_score (AdaptiveLayout.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f6_n603 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f6_n604 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f6_n605 [label="BB1 L79", shape=box, fillcolor=lightblue, style="filled"];
    f6_n606 [label="LOOP2 L80", shape=box, fillcolor=orange, style="filled,rounded"];
    f6_n607 [label="BB3 L81,82", shape=box, fillcolor=lightblue, style="filled"];
    f6_n608 [label="BRANCH4 L84", shape=diamond, fillcolor=yellow, style="filled"];
    f6_n609 [label="BB5 L85,86", shape=box, fillcolor=lightblue, style="filled"];
    f6_n610 [label="RETURN6 L89", shape=box, fillcolor=lightblue, style="filled"];

    f6_n603 -> f6_n605;
    f6_n605 -> f6_n606;
    f6_n606 -> f6_n607 [label="T", color="darkgreen"];
    f6_n607 -> f6_n606;
    f6_n606 -> f6_n608 [label="F", color="red"];
    f6_n607 -> f6_n608;
    f6_n608 -> f6_n609 [label="T", color="darkgreen"];
    f6_n608 -> f6_n610 [label="F", color="red"];
    f6_n609 -> f6_n610;
    f6_n610 -> f6_n604;
  }

  subgraph cluster_7 {
    label="compute_reuse_distance (LocalityAnalysis.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f7_n611 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f7_n612 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f7_n613 [label="LOOP1 L80", shape=box, fillcolor=orange, style="filled,rounded"];
    f7_n614 [label="BRANCH2 L81", shape=diamond, fillcolor=yellow, style="filled"];
    f7_n615 [label="RETURN3 L82", shape=box, fillcolor=lightblue, style="filled"];
    f7_n616 [label="RETURN4 L85", shape=box, fillcolor=lightblue, style="filled"];

    f7_n611 -> f7_n613;
    f7_n613 -> f7_n614 [label="T", color="darkgreen"];
    f7_n614 -> f7_n613;
    f7_n613 -> f7_n615 [label="F", color="red"];
    f7_n614 -> f7_n615 [label="T", color="darkgreen"];
    f7_n614 -> f7_n616 [label="F", color="red"];
    f7_n616 -> f7_n612;
  }

  subgraph cluster_8 {
    label="entropy_gradient (EntropyReduction.jl, CC=4)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f8_n617 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f8_n618 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f8_n619 [label="BB1 L66,67,69", shape=box, fillcolor=lightblue, style="filled"];
    f8_n620 [label="LOOP2 L70", shape=box, fillcolor=orange, style="filled,rounded"];
    f8_n621 [label="BRANCH3 L71", shape=diamond, fillcolor=yellow, style="filled"];
    f8_n622 [label="BB4 L72,73", shape=box, fillcolor=lightblue, style="filled"];
    f8_n623 [label="RETURN5 L77", shape=box, fillcolor=lightblue, style="filled"];

    f8_n617 -> f8_n619;
    f8_n619 -> f8_n620;
    f8_n620 -> f8_n621 [label="T", color="darkgreen"];
    f8_n621 -> f8_n620;
    f8_n620 -> f8_n622 [label="F", color="red"];
    f8_n621 -> f8_n622 [label="T", color="darkgreen"];
    f8_n621 -> f8_n623 [label="F", color="red"];
    f8_n622 -> f8_n623;
    f8_n623 -> f8_n618;
  }

  subgraph cluster_9 {
    label="optimize_layout! (AdaptiveLayout.jl, CC=5)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f9_n624 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f9_n625 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f9_n626 [label="BB1 L42,45,46,49", shape=box, fillcolor=lightblue, style="filled"];
    f9_n627 [label="LOOP2 L50", shape=box, fillcolor=orange, style="filled,rounded"];
    f9_n628 [label="BB3 L51,52", shape=box, fillcolor=lightblue, style="filled"];
    f9_n629 [label="BB4 L55", shape=box, fillcolor=lightblue, style="filled"];
    f9_n630 [label="LOOP5 L58", shape=box, fillcolor=orange, style="filled,rounded"];
    f9_n631 [label="BB6 L59", shape=box, fillcolor=lightblue, style="filled"];
    f9_n632 [label="BB7 L62,63,64", shape=box, fillcolor=lightblue, style="filled"];
    f9_n633 [label="BRANCH8 L66", shape=diamond, fillcolor=yellow, style="filled"];
    f9_n634 [label="RETURN9 L67", shape=box, fillcolor=lightblue, style="filled"];
    f9_n635 [label="RETURN10 L70", shape=box, fillcolor=lightblue, style="filled"];

    f9_n624 -> f9_n626;
    f9_n626 -> f9_n627;
    f9_n627 -> f9_n628 [label="T", color="darkgreen"];
    f9_n628 -> f9_n627;
    f9_n627 -> f9_n629 [label="F", color="red"];
    f9_n628 -> f9_n629;
    f9_n629 -> f9_n630;
    f9_n630 -> f9_n631 [label="T", color="darkgreen"];
    f9_n631 -> f9_n630;
    f9_n630 -> f9_n632 [label="F", color="red"];
    f9_n631 -> f9_n632;
    f9_n632 -> f9_n633;
    f9_n633 -> f9_n634 [label="T", color="darkgreen"];
    f9_n633 -> f9_n635 [label="F", color="red"];
    f9_n635 -> f9_n625;
  }

  subgraph cluster_10 {
    label="reduce_entropy! (EntropyReduction.jl, CC=3)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f10_n636 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f10_n637 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f10_n638 [label="BB1 L47,50", shape=box, fillcolor=lightblue, style="filled"];
    f10_n639 [label="LOOP2 L53", shape=box, fillcolor=orange, style="filled,rounded"];
    f10_n640 [label="BB3 L54", shape=box, fillcolor=lightblue, style="filled"];
    f10_n641 [label="RETURN4 L57", shape=box, fillcolor=lightblue, style="filled"];

    f10_n636 -> f10_n638;
    f10_n638 -> f10_n639;
    f10_n639 -> f10_n640 [label="T", color="darkgreen"];
    f10_n640 -> f10_n639;
    f10_n639 -> f10_n641 [label="F", color="red"];
    f10_n640 -> f10_n641;
    f10_n641 -> f10_n637;
  }

  subgraph cluster_11 {
    label="rewrite_dag! (GraphRewriting.jl, CC=7)";
    style=filled;
    fillcolor=lightgray;
    color=black;

    f11_n642 [label="ENTRY", shape=ellipse, fillcolor=lightgreen, style="filled,bold"];
    f11_n643 [label="EXIT", shape=doubleoctagon, fillcolor=lightcoral, style="filled,bold"];
    f11_n644 [label="BB1 L36,39", shape=box, fillcolor=lightblue, style="filled"];
    f11_n645 [label="LOOP2 L41", shape=box, fillcolor=orange, style="filled,rounded"];
    f11_n646 [label="BB3 L42", shape=box, fillcolor=lightblue, style="filled"];
    f11_n647 [label="LOOP4 L43", shape=box, fillcolor=orange, style="filled,rounded"];
    f11_n648 [label="BB5 L44", shape=box, fillcolor=lightblue, style="filled"];
    f11_n649 [label="BRANCH6 L47", shape=diamond, fillcolor=yellow, style="filled"];
    f11_n650 [label="BB7 L48,52", shape=box, fillcolor=lightblue, style="filled"];
    f11_n651 [label="BRANCH8 L54", shape=diamond, fillcolor=yellow, style="filled"];
    f11_n652 [label="BB9 L55", shape=box, fillcolor=lightblue, style="filled"];
    f11_n653 [label="RETURN10 L65", shape=box, fillcolor=lightblue, style="filled"];

    f11_n642 -> f11_n644;
    f11_n644 -> f11_n645;
    f11_n645 -> f11_n646 [label="T", color="darkgreen"];
    f11_n646 -> f11_n645;
    f11_n645 -> f11_n647 [label="F", color="red"];
    f11_n646 -> f11_n647;
    f11_n647 -> f11_n648 [label="T", color="darkgreen"];
    f11_n648 -> f11_n647;
    f11_n647 -> f11_n649 [label="F", color="red"];
    f11_n648 -> f11_n649;
    f11_n649 -> f11_n650 [label="T", color="darkgreen"];
    f11_n649 -> f11_n651 [label="F", color="red"];
    f11_n650 -> f11_n651;
    f11_n651 -> f11_n652 [label="T", color="darkgreen"];
    f11_n651 -> f11_n653 [label="F", color="red"];
    f11_n652 -> f11_n653;
    f11_n653 -> f11_n643;
  }

  // Inter-function calls
  edge [style=dashed, color=blue, penwidth=2];

  f1_n580 -> f1_n579 [ltail=cluster_1, lhead=cluster_1, label="call"];
  f10_n637 -> f5_n596 [ltail=cluster_10, lhead=cluster_5, label="call"];
  f11_n643 -> f3_n590 [ltail=cluster_11, lhead=cluster_3, label="call"];
}
