# LLM Agent Workflow - EXECUTE THESE STEPS

## IMPORTANT: You must EXECUTE each GET request, not just describe them.

## Creating a New File

**Step 1: Create task**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/create-task?task_id=TASK_CREATE_FILE&description=Create%20new%20file&_t=<current_timestamp>

**Step 2: Build patch to create file**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/build-patch?file=<filename>&line_before=&line_after=<first_line_of_content>&_t=<current_timestamp>

Note: For creating files, use the add file syntax:
- template=add_file (if we add this template)
- Or build manually with empty line_before

**Step 3: Save as instruction**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/save-instruction?id=CREATE_<FILENAME>&file=<filename>&template=simple_replace&line_before=&line_after=<content>&purpose=Create%20file&_t=<current_timestamp>

**Step 4: Apply instruction**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/apply-instruction?id=CREATE_<FILENAME>&_t=<current_timestamp>

**Step 5: Complete task**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/complete-task?task_id=TASK_CREATE_FILE&status=completed&result=success&_t=<current_timestamp>

## Modifying Existing File

**Step 1: Create task**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/create-task?task_id=TASK_MODIFY&description=Modify%20file&_t=<timestamp>

**Step 2: Read current file**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/<path_to_file>?_t=<timestamp>
Track: GET https://cheese-server.duckdns.org/mmsb/add-context?task_id=TASK_MODIFY&query_url=/mmsb/<path>&_t=<timestamp>

**Step 3: Build patch**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/build-patch?template=simple_replace&file=<file>&old_line=<old>&new_line=<new>&context_before=<line>&context_after=<line>&_t=<timestamp>

**Step 4: Save instruction**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/save-instruction?id=FIX_001&<same_params_as_build>&purpose=Fix%20X&_t=<timestamp>

**Step 5: Apply**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/apply-instruction?id=FIX_001&_t=<timestamp>

**Step 6: Complete**
EXECUTE: GET https://cheese-server.duckdns.org/mmsb/complete-task?task_id=TASK_MODIFY&status=completed&_t=<timestamp>

## Key Rules

1. Replace <timestamp> with actual milliseconds: use Date.now() or current time
2. URL-encode all parameters (spaces = %20, etc)
3. EXECUTE means: use web_fetch to call the URL, don't just show it
4. Check response.success before proceeding
5. If error, read error message and retry with corrections

## Example: Create Test.jl

EXECUTE these in order:

1. GET https://cheese-server.duckdns.org/mmsb/create-task?task_id=TASK_TEST_JL&description=Create%20Test.jl&_t=1734567890000

2. Save instruction to create file with content:
GET https://cheese-server.duckdns.org/mmsb/save-instruction?id=CREATE_TEST_JL&file=Test.jl&template=simple_replace&old_line=&new_line=module%20Test%0A%23%20TODO:%20add%20tests%0Aend&purpose=Create%20Test.jl&_t=1734567890001

3. Apply:
GET https://cheese-server.duckdns.org/mmsb/apply-instruction?id=CREATE_TEST_JL&_t=1734567890002

4. Complete:
GET https://cheese-server.duckdns.org/mmsb/complete-task?task_id=TASK_TEST_JL&status=completed&_t=1734567890003
