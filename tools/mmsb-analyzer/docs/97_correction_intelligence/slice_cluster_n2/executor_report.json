{
  "version": "1.0",
  "timestamp": "2026-01-01T05:52:25.500318068+00:00",
  "actions": [
    {
      "action_id": "move_emit_verification_policy_to_src/620_correction_plan_serializer.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_emit_verification_policy_to_src/620_correction_plan_serializer.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for emit_verification_policy: RequiresEnsureDependencies [serialize_scope (fn; private) @ tools/mmsb-analyzer/src/630_verification_policy_emitter.rs; serialize_check (fn; private) @ tools/mmsb-analyzer/src/630_verification_policy_emitter.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "emit_verification_policy",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "serialize_scope",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
              },
              {
                "name": "serialize_check",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
              }
            ]
          },
          {
            "level": 2,
            "items": [
              {
                "name": "serialize_thresholds",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "emit_verification_policy",
              "serialize_scope",
              "serialize_check",
              "serialize_thresholds"
            ],
            "files": [
              "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "medium (4 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "emit_verification_policy",
              "serialize_scope",
              "serialize_check",
              "serialize_thresholds"
            ],
            "files": [
              "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "medium (4 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "emit_verification_policy",
              "serialize_scope",
              "serialize_check",
              "serialize_thresholds"
            ],
            "files": [
              "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "medium (4 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "emit_verification_policy",
              "serialize_scope",
              "serialize_check",
              "serialize_thresholds"
            ],
            "files": [
              "tools/mmsb-analyzer/src/630_verification_policy_emitter.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "medium (4 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_emit_verification_policy_to_src/620_correction_plan_serializer.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_emit_verification_policy_to_src/620_correction_plan_serializer.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_write_intelligence_outputs_to_src/620_correction_plan_serializer.rs",
      "phase": 3,
      "status": "applied",
      "applied_strategies": [
        "MoveToLayer write_intelligence_outputs -> src/620_correction_plan_serializer.rs",
        "MoveToLayerInvariant I2 passed: write_intelligence_outputs"
      ],
      "errors": [],
      "warnings": [
        "EnsureImports found no missing imports for write_intelligence_outputs",
        "Suggested rollback criteria: QualityDecreased { threshold: 0.05 }, TestsFailed { critical_tests: [] }"
      ],
      "dependency_plan": null,
      "verification_results": [
        {
          "action_id": "move_write_intelligence_outputs_to_src/620_correction_plan_serializer.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_write_intelligence_outputs_to_src/620_correction_plan_serializer.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": false,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_strip_numeric_prefix_to_src/330_report.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_strip_numeric_prefix_to_src/330_report.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for strip_numeric_prefix: RequiresEnsureDependencies [PREFIX_RE (static; private) @ tools/mmsb-analyzer/src/120_cluster_006.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "strip_numeric_prefix",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/120_cluster_006.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "PREFIX_RE",
                "kind": "static",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/120_cluster_006.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "strip_numeric_prefix",
              "PREFIX_RE"
            ],
            "files": [
              "tools/mmsb-analyzer/src/120_cluster_006.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "strip_numeric_prefix",
              "PREFIX_RE"
            ],
            "files": [
              "tools/mmsb-analyzer/src/120_cluster_006.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "strip_numeric_prefix",
              "PREFIX_RE"
            ],
            "files": [
              "tools/mmsb-analyzer/src/120_cluster_006.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "strip_numeric_prefix",
              "PREFIX_RE"
            ],
            "files": [
              "tools/mmsb-analyzer/src/120_cluster_006.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_strip_numeric_prefix_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_strip_numeric_prefix_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_compress_path_to_src/330_report.rs",
      "phase": 3,
      "status": "applied",
      "applied_strategies": [
        "MoveToLayer compress_path -> src/330_report.rs",
        "MoveToLayerInvariant I2 passed: compress_path"
      ],
      "errors": [],
      "warnings": [
        "EnsureImports found no missing imports for compress_path",
        "Suggested rollback criteria: QualityDecreased { threshold: 0.05 }, TestsFailed { critical_tests: [] }"
      ],
      "dependency_plan": null,
      "verification_results": [
        {
          "action_id": "move_compress_path_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_compress_path_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": false,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_collect_directory_files_to_src/330_report.rs",
      "phase": 3,
      "status": "applied",
      "applied_strategies": [
        "MoveToLayer collect_directory_files -> src/330_report.rs",
        "MoveToLayerInvariant I2 passed: collect_directory_files"
      ],
      "errors": [],
      "warnings": [
        "EnsureImports found no missing imports for collect_directory_files",
        "Suggested rollback criteria: QualityDecreased { threshold: 0.05 }, TestsFailed { critical_tests: [] }"
      ],
      "dependency_plan": null,
      "verification_results": [
        {
          "action_id": "move_collect_directory_files_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_collect_directory_files_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": false,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_path_common_prefix_len_to_src/330_report.rs",
      "phase": 3,
      "status": "applied",
      "applied_strategies": [
        "MoveToLayer path_common_prefix_len -> src/330_report.rs",
        "MoveToLayerInvariant I2 passed: path_common_prefix_len"
      ],
      "errors": [],
      "warnings": [
        "EnsureImports found no missing imports for path_common_prefix_len",
        "Suggested rollback criteria: QualityDecreased { threshold: 0.05 }, TestsFailed { critical_tests: [] }"
      ],
      "dependency_plan": null,
      "verification_results": [
        {
          "action_id": "move_path_common_prefix_len_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_path_common_prefix_len_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": false,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_compute_move_metrics_to_src/330_report.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_compute_move_metrics_to_src/330_report.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for compute_move_metrics: RequiresEnsureDependencies [caller_files (fn; private) @ tools/mmsb-analyzer/src/330_report.rs; new (fn; private) @ tools/mmsb-analyzer/src/330_report.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "compute_move_metrics",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "caller_files",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              },
              {
                "name": "new",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "compute_move_metrics",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "compute_move_metrics",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "compute_move_metrics",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "compute_move_metrics",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_compute_move_metrics_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_compute_move_metrics_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_generate_canonical_name_to_src/330_report.rs",
      "phase": 3,
      "status": "applied",
      "applied_strategies": [
        "MoveToLayer generate_canonical_name -> src/330_report.rs",
        "MoveToLayerInvariant I2 passed: generate_canonical_name"
      ],
      "errors": [],
      "warnings": [
        "EnsureImports found no missing imports for generate_canonical_name",
        "Suggested rollback criteria: QualityDecreased { threshold: 0.05 }, TestsFailed { critical_tests: [] }"
      ],
      "dependency_plan": null,
      "verification_results": [
        {
          "action_id": "move_generate_canonical_name_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_generate_canonical_name_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": false,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_collect_directory_moves_to_src/330_report.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_collect_directory_moves_to_src/330_report.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for collect_directory_moves: RequiresEnsureDependencies [new (fn; private) @ tools/mmsb-analyzer/src/330_report.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "collect_directory_moves",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "new",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "collect_directory_moves",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "collect_directory_moves",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "collect_directory_moves",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "collect_directory_moves",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_collect_directory_moves_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_collect_directory_moves_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_write_structural_batches_to_src/330_report.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_write_structural_batches_to_src/330_report.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for write_structural_batches: RequiresEnsureDependencies [caller_files (fn; private) @ tools/mmsb-analyzer/src/330_report.rs; new (fn; private) @ tools/mmsb-analyzer/src/330_report.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "write_structural_batches",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "caller_files",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              },
              {
                "name": "new",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "write_structural_batches",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "write_structural_batches",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "write_structural_batches",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "write_structural_batches",
              "caller_files",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "medium (3 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_write_structural_batches_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_write_structural_batches_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_write_cluster_batches_to_src/330_report.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_write_cluster_batches_to_src/330_report.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for write_cluster_batches: RequiresEnsureDependencies [new (fn; private) @ tools/mmsb-analyzer/src/330_report.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "write_cluster_batches",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "new",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "write_cluster_batches",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "write_cluster_batches",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "write_cluster_batches",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "write_cluster_batches",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_write_cluster_batches_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_write_cluster_batches_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_resolve_required_layer_path_to_src/330_report.rs",
      "phase": 3,
      "status": "failed",
      "applied_strategies": [],
      "errors": [
        "MoveToLayer blocked (pre-flight guards): move_resolve_required_layer_path_to_src/330_report.rs"
      ],
      "warnings": [
        "MoveToLayer skipped for resolve_required_layer_path: RequiresEnsureDependencies [new (fn; private) @ tools/mmsb-analyzer/src/330_report.rs]"
      ],
      "dependency_plan": {
        "levels": [
          {
            "level": 0,
            "items": [
              {
                "name": "resolve_required_layer_path",
                "kind": "fn",
                "visibility": "primary",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          },
          {
            "level": 1,
            "items": [
              {
                "name": "new",
                "kind": "fn",
                "visibility": "private",
                "path": "tools/mmsb-analyzer/src/330_report.rs"
              }
            ]
          }
        ],
        "options": [
          {
            "option": "Option A",
            "title": "Move helper(s) together as a bundle",
            "affected_symbols": [
              "resolve_required_layer_path",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option B",
            "title": "Widen visibility (pub(crate))",
            "affected_symbols": [
              "resolve_required_layer_path",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate)",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option C",
            "title": "Re-export helper(s) from original module",
            "affected_symbols": [
              "resolve_required_layer_path",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "private -> pub(crate) via re-export",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          },
          {
            "option": "Option D",
            "title": "Mark move as permanently blocked (design intent)",
            "affected_symbols": [
              "resolve_required_layer_path",
              "new"
            ],
            "files": [
              "tools/mmsb-analyzer/src/330_report.rs"
            ],
            "visibility_delta": "none",
            "blast_radius": "low (2 symbol(s), 1 file(s))"
          }
        ],
        "default_policy": "BundleMove",
        "requires_manual_review": false,
        "manual_review_reason": null,
        "permanent_blocked": false,
        "permanent_block_reason": null
      },
      "verification_results": [
        {
          "action_id": "move_resolve_required_layer_path_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_resolve_required_layer_path_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": true,
      "diffs": [],
      "diff_count": 0
    },
    {
      "action_id": "move_collect_move_items_to_src/330_report.rs",
      "phase": 3,
      "status": "applied",
      "applied_strategies": [
        "MoveToLayer collect_move_items -> src/330_report.rs",
        "MoveToLayerInvariant I2 passed: collect_move_items"
      ],
      "errors": [],
      "warnings": [
        "EnsureImports found no missing imports for collect_move_items",
        "Suggested rollback criteria: QualityDecreased { threshold: 0.05 }, TestsFailed { critical_tests: [] }"
      ],
      "dependency_plan": null,
      "verification_results": [
        {
          "action_id": "move_collect_move_items_to_src/330_report.rs",
          "check": "CargoCheck",
          "status": "passed",
          "error": null
        },
        {
          "action_id": "move_collect_move_items_to_src/330_report.rs",
          "check": "CargoTest",
          "status": "passed",
          "error": null
        }
      ],
      "rollback_applied": false,
      "diffs": [
        {
          "path": "tools/mmsb-analyzer/src/220_utilities.rs",
          "diff": "--- original\n+++ modified\n@@ -1,9 +1,6 @@\n //! Utility functions shared across modules\n\n-use std::collections::{BTreeSet};\n-use std::path::{Path};\n-use crate::types::{DirectoryAnalysis, FunctionPlacement, PlacementStatus};\n-use crate::report::{PlanItem, Priority, ActionKind};\n+#[allow(unused_imports)] pub use crate::report::collect_move_items;\n #[allow(unused_imports)] pub use crate::report::resolve_required_layer_path;\n #[allow(unused_imports)] pub use crate::report::write_cluster_batches;\n #[allow(unused_imports)] pub use crate::report::write_structural_batches;\n@@ -24,106 +21,7 @@\n\n\n\n-pub fn collect_move_items(\n-    placements: &[FunctionPlacement],\n-    utility_names: &BTreeSet<String>,\n-    directory: &DirectoryAnalysis,\n-    root_path: &Path,\n-) -> Vec<PlanItem> {\n-    let mut items = Vec::new();\n-    for placement in placements {\n-        match &placement.placement_status {\n-            PlacementStatus::ShouldMove { reason, impact } => {\n-                let priority = if *impact >= 0.5 {\n-                    Priority::Critical\n-                } else if *impact >= 0.2 {\n-                    Priority::High\n-                } else if *impact >= 0.1 {\n-                    Priority::Medium\n-                } else {\n-                    Priority::Low\n-                };\n-                let (impact_weight, benefit, cost, callers, caller_files, outgoing_files) =\n-                    compute_move_metrics(placement);\n-                let to = placement\n-                    .suggested_file\n-                    .as_ref()\n-                    .map(|p| compress_path(p.to_string_lossy().as_ref()))\n-                    .unwrap_or_else(|| \"-\".to_string());\n-                items.push(PlanItem {\n-                    kind: ActionKind::Cohesion,\n-                    priority,\n-                    description: format!(\n-                        \"`{}` from `{}` to `{}`: {} (impact {:.2})\",\n-                        placement.name,\n-                        compress_path(placement.current_file.to_string_lossy().as_ref()),\n-                        to,\n-                        reason,\n-                        impact\n-                    ),\n-                    command: String::new(),\n-                    current_layer: None,\n-                    required_layer: None,\n-                    is_utility: utility_names.contains(&placement.name),\n-                    impact_weight,\n-                    benefit,\n-                    cost,\n-                    callers,\n-                    caller_files,\n-                    current_file: Some(placement.current_file.clone()),\n-                    target_file: placement.suggested_file.clone(),\n-                    outgoing_files,\n-                    name: Some(placement.name.clone()),\n-                    cluster_cohesion: 0.0,\n-                    member_count: 0,\n-                });\n-            }\n-            PlacementStatus::LayerViolation {\n-                current_layer,\n-                required_layer,\n-            } => {\n-                let target_path = resolve_required_layer_path(\n-                    required_layer,\n-                    &placement.current_file,\n-                    directory,\n-                    root_path,\n-                );\n-                let to = compress_path(target_path.to_string_lossy().as_ref());\n-                let (impact_weight, benefit, cost, callers, caller_files, outgoing_files) =\n-                    compute_move_metrics(placement);\n-                items.push(PlanItem {\n-                    kind: ActionKind::Structural,\n-                    priority: Priority::Critical,\n-                    description: format!(\n-                        \"`{}` from `{}` to `{}`: layer violation {} -> {}\",\n-                        placement.name,\n-                        compress_path(placement.current_file.to_string_lossy().as_ref()),\n-                        to,\n-                        current_layer,\n-                        required_layer\n-                    ),\n-                    command: String::new(),\n-                    current_layer: Some(current_layer.clone()),\n-                    required_layer: Some(required_layer.clone()),\n-                    is_utility: utility_names.contains(&placement.name),\n-                    impact_weight,\n-                    benefit,\n-                    cost,\n-                    callers,\n-                    caller_files,\n-                    current_file: Some(placement.current_file.clone()),\n-                    target_file: Some(target_path),\n-                    outgoing_files,\n-                    name: Some(placement.name.clone()),\n-                    cluster_cohesion: 0.0,\n-                    member_count: 0,\n-                });\n-            }\n-            _ => {}\n-        }\n-    }\n-    items\n-}\n\n\n\n+\n"
        },
        {
          "path": "tools/mmsb-analyzer/src/330_report.rs",
          "diff": "--- original\n+++ modified\n@@ -2,7 +2,6 @@\n\n use crate::cluster_008::collect_cluster_plans;\n use crate::layer_core::{sort_structural_items};\n-use crate::utilities::{collect_move_items};\n use crate::control_flow::ControlFlowAnalyzer;\n use crate::dependency::{LayerGraph, build_directory_entry_map, build_file_dependency_graph, collect_naming_warnings};\n use crate::file_ordering::DirectoryMove;\n@@ -3834,3 +3833,104 @@\n             .join(required_layer)\n     })\n }\n+\n+pub fn collect_move_items(\n+    placements: &[FunctionPlacement],\n+    utility_names: &BTreeSet<String>,\n+    directory: &DirectoryAnalysis,\n+    root_path: &Path,\n+) -> Vec<PlanItem> {\n+    let mut items = Vec::new();\n+    for placement in placements {\n+        match &placement.placement_status {\n+            PlacementStatus::ShouldMove { reason, impact } => {\n+                let priority = if *impact >= 0.5 {\n+                    Priority::Critical\n+                } else if *impact >= 0.2 {\n+                    Priority::High\n+                } else if *impact >= 0.1 {\n+                    Priority::Medium\n+                } else {\n+                    Priority::Low\n+                };\n+                let (impact_weight, benefit, cost, callers, caller_files, outgoing_files) =\n+                    compute_move_metrics(placement);\n+                let to = placement\n+                    .suggested_file\n+                    .as_ref()\n+                    .map(|p| compress_path(p.to_string_lossy().as_ref()))\n+                    .unwrap_or_else(|| \"-\".to_string());\n+                items.push(PlanItem {\n+                    kind: ActionKind::Cohesion,\n+                    priority,\n+                    description: format!(\n+                        \"`{}` from `{}` to `{}`: {} (impact {:.2})\",\n+                        placement.name,\n+                        compress_path(placement.current_file.to_string_lossy().as_ref()),\n+                        to,\n+                        reason,\n+                        impact\n+                    ),\n+                    command: String::new(),\n+                    current_layer: None,\n+                    required_layer: None,\n+                    is_utility: utility_names.contains(&placement.name),\n+                    impact_weight,\n+                    benefit,\n+                    cost,\n+                    callers,\n+                    caller_files,\n+                    current_file: Some(placement.current_file.clone()),\n+                    target_file: placement.suggested_file.clone(),\n+                    outgoing_files,\n+                    name: Some(placement.name.clone()),\n+                    cluster_cohesion: 0.0,\n+                    member_count: 0,\n+                });\n+            }\n+            PlacementStatus::LayerViolation {\n+                current_layer,\n+                required_layer,\n+            } => {\n+                let target_path = resolve_required_layer_path(\n+                    required_layer,\n+                    &placement.current_file,\n+                    directory,\n+                    root_path,\n+                );\n+                let to = compress_path(target_path.to_string_lossy().as_ref());\n+                let (impact_weight, benefit, cost, callers, caller_files, outgoing_files) =\n+                    compute_move_metrics(placement);\n+                items.push(PlanItem {\n+                    kind: ActionKind::Structural,\n+                    priority: Priority::Critical,\n+                    description: format!(\n+                        \"`{}` from `{}` to `{}`: layer violation {} -> {}\",\n+                        placement.name,\n+                        compress_path(placement.current_file.to_string_lossy().as_ref()),\n+                        to,\n+                        current_layer,\n+                        required_layer\n+                    ),\n+                    command: String::new(),\n+                    current_layer: Some(current_layer.clone()),\n+                    required_layer: Some(required_layer.clone()),\n+                    is_utility: utility_names.contains(&placement.name),\n+                    impact_weight,\n+                    benefit,\n+                    cost,\n+                    callers,\n+                    caller_files,\n+                    current_file: Some(placement.current_file.clone()),\n+                    target_file: Some(target_path),\n+                    outgoing_files,\n+                    name: Some(placement.name.clone()),\n+                    cluster_cohesion: 0.0,\n+                    member_count: 0,\n+                });\n+            }\n+            _ => {}\n+        }\n+    }\n+    items\n+}\n"
        }
      ],
      "diff_count": 2
    }
  ],
  "summary": {
    "total_actions": 13,
    "applied": 6,
    "failed": 7,
    "manual_review": 0,
    "skipped": 0,
    "total_diffs": 2
  },
  "verification_report": "tools/mmsb-analyzer/docs/97_correction_intelligence/slice_cluster_n2/executor_verification_results.json",
  "rollback_log": "tools/mmsb-analyzer/docs/97_correction_intelligence/slice_cluster_n2/executor_rollback_log.json",
  "diff_report": "tools/mmsb-analyzer/docs/97_correction_intelligence/slice_cluster_n2/executor_diff_report.json",
  "input_report": "tools/mmsb-analyzer/docs/97_correction_intelligence/slice_cluster_n2/executor_input_report.json"
}